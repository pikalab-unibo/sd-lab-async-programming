<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="244px" preserveAspectRatio="none" style="width:723px;height:244px;background:#FFFFFF;" version="1.1" viewBox="0 0 723 244" width="723px" zoomAndPan="magnify"><defs><filter height="300%" id="ft5q4kmdoiy9f" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#ft5q4kmdoiy9f)" height="156.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="235.5" y="63.2969"/><rect fill="#FFFFFF" filter="url(#ft5q4kmdoiy9f)" height="19" style="stroke:#A80036;stroke-width:1.0;" width="10" x="359" y="89.4297"/><rect fill="#FFFFFF" filter="url(#ft5q4kmdoiy9f)" height="19" style="stroke:#A80036;stroke-width:1.0;" width="10" x="359" y="171.6953"/><rect fill="#FFFFFF" filter="url(#ft5q4kmdoiy9f)" height="82.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="487" y="137.5625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="240" x2="240" y1="53.2969" y2="237.8281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="364" x2="364" y1="53.2969" y2="237.8281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="492" x2="492" y1="53.2969" y2="237.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="194" y="49.9951">Main Thread</text><ellipse cx="240.5" cy="21" fill="#FEFECE" filter="url(#ft5q4kmdoiy9f)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="236.5,9,242.5,4,240.5,9,242.5,14,236.5,9" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#ft5q4kmdoiy9f)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="130" x="297" y="18"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="304" y="37.9951">ThreadDetector</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="441" y="49.9951">Other Thread</text><ellipse cx="492" cy="21" fill="#FEFECE" filter="url(#ft5q4kmdoiy9f)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="488,9,494,4,492,9,494,14,488,9" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FFFFFF" filter="url(#ft5q4kmdoiy9f)" height="156.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="235.5" y="63.2969"/><rect fill="#FFFFFF" filter="url(#ft5q4kmdoiy9f)" height="19" style="stroke:#A80036;stroke-width:1.0;" width="10" x="359" y="89.4297"/><rect fill="#FFFFFF" filter="url(#ft5q4kmdoiy9f)" height="19" style="stroke:#A80036;stroke-width:1.0;" width="10" x="359" y="171.6953"/><rect fill="#FFFFFF" filter="url(#ft5q4kmdoiy9f)" height="82.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="487" y="137.5625"/><polygon fill="#A80036" points="347,85.4297,357,89.4297,347,93.4297,351,89.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="245.5" x2="353" y1="89.4297" y2="89.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="252.5" y="84.3638">Detect()</text><path d="M374,68.2969 L374,93.2969 L714,93.2969 L714,78.2969 L704,68.2969 L374,68.2969 " fill="#FBFB77" filter="url(#ft5q4kmdoiy9f)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M704,68.2969 L704,78.2969 L714,78.2969 L704,68.2969 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="380" y="85.3638">Console.WriteLine(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="76" x="500" y="85.3638">MainThread</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="576" y="85.3638">.ManagedThreadId)</text><polygon fill="#A80036" points="256.5,104.4297,246.5,108.4297,256.5,112.4297,252.5,108.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="250.5" x2="363" y1="108.4297" y2="108.4297"/><polygon fill="#A80036" points="475,133.5625,485,137.5625,475,141.5625,479,137.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="245.5" x2="481" y1="137.5625" y2="137.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="252.5" y="132.4966">Start()</text><polygon fill="#A80036" points="380,167.6953,370,171.6953,380,175.6953,376,171.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="374" x2="486" y1="171.6953" y2="171.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="386" y="166.6294">Detect()</text><path d="M5,150.5625 L5,175.5625 L350,175.5625 L350,160.5625 L340,150.5625 L5,150.5625 " fill="#FBFB77" filter="url(#ft5q4kmdoiy9f)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M340,150.5625 L340,160.5625 L350,160.5625 L340,150.5625 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="11" y="167.6294">Console.WriteLine(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="81" x="131" y="167.6294">OtherThread</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="212" y="167.6294">.ManagedThreadId)</text><polygon fill="#A80036" points="475,186.6953,485,190.6953,475,194.6953,479,190.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="364" x2="481" y1="190.6953" y2="190.6953"/><polygon fill="#A80036" points="251.5,215.8281,241.5,219.8281,251.5,223.8281,247.5,219.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="245.5" x2="491" y1="219.8281" y2="219.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="257.5" y="214.7622">resume Join()</text><!--MD5=[6a8500232805a548267729fcdaf7701f]
@startuml
hide footbox

control "Main Thread" as main
participant ThreadDetector
control "Other Thread" as thread

activate main

main -> ThreadDetector: Detect()
activate ThreadDetector

note right: Console.WriteLine(//MainThread//.ManagedThreadId)

ThreadDetector - -> main
deactivate ThreadDetector

main -> thread: Start()
activate thread

thread -> ThreadDetector: Detect()
activate ThreadDetector

note left: Console.WriteLine(//OtherThread//.ManagedThreadId)

ThreadDetector - -> thread
deactivate ThreadDetector

thread - -> main: resume Join()
deactivate thread

deactivate main
@enduml

PlantUML version 1.2021.7(Sun May 23 12:40:07 UTC 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>